<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Product - Hardware Deals.lk</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="viewproduct.css">
  
</head>
<body>
  <header class="title-header-thing">
    <div class="logo-title">
      <img src="logo.png" alt="Logo" class="logo">
      <h1 class="title" onclick="window.location.href='index.html'">Hardware Deals.lk</h1>
    </div>

    <div class="search-box">
      <input type="text" placeholder="Search products...">
      <button type="submit">üîç</button>
    </div>

    <div class="cart">
      <button>
        <img src="login.png" alt="Login" style="width:24px; height:24px;" onclick="window.location.href='login.html'">
      </button>
      <button>
        <img src="cart-icon.webp" alt="Cart" style=" height:24px;" onclick="window.location.href='cart.html'">
      </button>

    </div>
  </header>







  <div class="vprcontainer">
    <div class="innercontainer">



    <div class="vprimg">
  <div class="slider-container">
    <button class="slider-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
    <div class="main-image">
      <img id="mainProductImage" src="drilldemo/drill1.jpg" alt="Cordless Drill">
    </div>
    <button class="slider-btn next" onclick="changeSlide(1)">‚ùØ</button>
  </div>

  <div class="thumbnail-gallery">
    <img src="drilldemo/drill1.jpg" class="active-thumb" onclick="setSlide(0)">
    <img src="drilldemo/2.jpg" onclick="setSlide(1)">
    <img src="drilldemo/3.jpg" onclick="setSlide(2)">
    

  </div>
</div>

    


    <div class="vprdetails">
      <div>
        <span class="vprbadge">20% OFF</span>
        <span class="vproldprice">Rs.8500.00</span>
        <span class="vprprice">Rs.7200.00</span>
      </div>
      <div class="vprtitle">Cordless Drill</div>
      <div class="vprdescription">A powerful cordless drill for all your home and professional needs. Includes battery, charger, and a bits set with a 90 degree bend.</div>
      <div class="vprseller">Sold by: <span class="sellername">Jaya Stores</span> <span class="ratings">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span> <span class="buyercount">(10)</span></div>
      
      <div class="vprmeta">Pickup &bull; In Stock &bull; Delivery available</div>


      <form class="vpractions">
        <label for="quantity">Qty:</label>
        <input type="number" id="quantity" name="quantity" value="1" min="1">
        <button type="submit" class="addtocartbutton">Add to Cart</button>
      </form>
    </div>

    </div>
    
    <div>
        
        <section class="reviews">
          <h2>Customer Reviews (3)</h2>

          <!-- add review form -->
          <form class="review-form" onsubmit="event.preventDefault(); submitReview(this)" aria-label="Add a product review" style="max-width:700px; border:1px solid #e6e6e6; padding:16px; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.04);">
            <h3 style="margin:0 0 8px 0; font-size:1.1rem;">Write a review</h3>

            <div class="rating" style="display:flex; align-items:center; gap:8px; margin:8px 0;">
              <span style="font-size:0.95rem; color:#555;">Your rating:</span>
              <div style="display:flex; gap:6px;">
                <label style="cursor:pointer;">
                  <input type="radio" name="rating" value="5" style="display:none;">
                  <span title="5 stars" style="color:#ffb400; font-size:1.05rem;">‚òÖ</span>
                </label>
                <label style="cursor:pointer;">
                  <input type="radio" name="rating" value="4" style="display:none;">
                  <span title="4 stars" style="color:#ffb400; font-size:1.05rem;">‚òÖ</span>
                </label>
                <label style="cursor:pointer;">
                  <input type="radio" name="rating" value="3" style="display:none;">
                  <span title="3 stars" style="color:#ffb400; font-size:1.05rem;">‚òÖ</span>
                </label>
                <label style="cursor:pointer;">
                  <input type="radio" name="rating" value="2" style="display:none;">
                  <span title="2 stars" style="color:#ffb400; font-size:1.05rem;">‚òÖ</span>
                </label>
                <label style="cursor:pointer;">
                  <input type="radio" name="rating" value="1" style="display:none;">
                  <span title="1 star" style="color:#ffb400; font-size:1.05rem;">‚òÖ</span>
                </label>
              </div>
              <small id="ratingHint" style="color:#777; margin-left:12px;">Click a star to rate</small>
            </div>

            <div style="display:flex; gap:12px; margin:8px 0;">
              <label style="flex:1;">
                <input id="reviewerName" name="name" type="text" placeholder="Your name" required style="width:100%; padding:8px 10px; border:1px solid #ddd; border-radius:6px;">
              </label>
              <label style="width:120px;">
                <input id="reviewerPhone" name="phone" type="tel" placeholder="Phone (optional)" style="width:100%; padding:8px 10px; border:1px solid #ddd; border-radius:6px;">
              </label>
            </div>

            <label style="display:block; margin:8px 0;">
              <textarea id="reviewText" name="review" placeholder="Share your experience (max 500 chars)" maxlength="500" required oninput="updateCharCount(this)" style="width:100%; min-height:100px; padding:10px; border:1px solid #ddd; border-radius:6px; resize:vertical;"></textarea>
              <div style="display:flex; justify-content:space-between; align-items:center; margin-top:6px;">
                <small id="charCount" style="color:#777;">0 / 500</small>
                <small style="color:#999;">Be polite and specific ‚Äî helps others decide</small>
              </div>
            </label>

            <label style="display:block; margin:10px 0; color:#333;">
              <div style="margin-bottom:6px;">Add photos (optional)</div>
              <input id="reviewImages" type="file" accept="image/*" multiple onchange="previewReviewImages(event)" style="display:block;">
              <div id="imagePreview" style="display:flex; gap:8px; margin-top:8px; flex-wrap:wrap;"></div>
            </label>

            <div style="display:flex; gap:8px; margin-top:12px;">
              <button type="submit" style="background:#0078d4; color:#fff; border:none; padding:10px 14px; border-radius:6px; cursor:pointer;">Submit Review</button>
              <button type="button" onclick="this.closest('form').reset(); document.getElementById('imagePreview').innerHTML=''; document.getElementById('charCount').innerText='0 / 500';" style="background:#f3f3f3; border:1px solid #e0e0e0; padding:10px 14px; border-radius:6px; cursor:pointer;">Reset</button>
              <div id="reviewStatus" style="margin-left:auto; align-self:center; color:green; font-size:0.95rem;"></div>
            </div>

            <script>
              function updateCharCount(textarea) {
                const count = textarea.value.length;
                document.getElementById('charCount').innerText = count + ' / ' + textarea.maxLength;
              }

              function previewReviewImages(e) {
                const preview = document.getElementById('imagePreview');
                preview.innerHTML = '';
                const files = Array.from(e.target.files).slice(0, 5); // limit previews to 5
                files.forEach(file => {
                  if (!file.type.startsWith('image/')) return;
                  const reader = new FileReader();
                  const wrapper = document.createElement('div');
                  wrapper.style.width = '72px';
                  wrapper.style.height = '72px';
                  wrapper.style.border = '1px solid #eee';
                  wrapper.style.borderRadius = '6px';
                  wrapper.style.overflow = 'hidden';
                  wrapper.style.display = 'flex';
                  wrapper.style.alignItems = 'center';
                  wrapper.style.justifyContent = 'center';
                  reader.onload = () => {
                    const img = document.createElement('img');
                    img.src = reader.result;
                    img.style.maxWidth = '100%';
                    img.style.maxHeight = '100%';
                    img.style.objectFit = 'cover';
                    wrapper.appendChild(img);
                  };
                  reader.readAsDataURL(file);
                  preview.appendChild(wrapper);
                });
              }

              function submitReview(form) {
                const name = form.querySelector('[name="name"]').value.trim();
                const review = form.querySelector('[name="review"]').value.trim();
                const ratingEl = form.querySelector('input[name="rating"]:checked');
                if (!ratingEl) {
                  document.getElementById('reviewStatus').style.color = 'crimson';
                  document.getElementById('reviewStatus').innerText = 'Please select a rating';
                  return;
                }
                if (!name || !review) {
                  document.getElementById('reviewStatus').style.color = 'crimson';
                  document.getElementById('reviewStatus').innerText = 'Please fill name and review';
                  return;
                }

                // Simulate successful submit (replace with real submit / AJAX)
                document.getElementById('reviewStatus').style.color = 'green';
                document.getElementById('reviewStatus').innerText = 'Review submitted ‚úì';
                setTimeout(() => { document.getElementById('reviewStatus').innerText = ''; }, 3000);

                // Optionally append the review to the list for immediate feedback
                const list = document.querySelector('.review-list');
                if (list) {
                  const item = document.createElement('div');
                  item.className = 'review';
                  item.innerHTML = '<strong>' + escapeHtml(name) + '</strong> <span style="color:#ffcc00;">' + '‚òÖ'.repeat(parseInt(ratingEl.value)) + '</span>' +
                                   '<div>' + escapeHtml(review) + '</div>';
                  list.prepend(item);
                }

                form.reset();
                document.getElementById('imagePreview').innerHTML = '';
                document.getElementById('charCount').innerText = '0 / 500';
              }

              function escapeHtml(s) {
                return s.replace(/[&<>"']/g, function(m) { return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
              }
            </script>
          </form>

          <div class="review-list">

            <div class="review">
            <strong>Nuwan Perera</strong> <span style="color:#ffcc00;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
            <div>Meka maru</div>

          <div class="review-images">
            <img src="drilldemo/rev1.jpg" alt="Customer image" onclick="openReviewImage(this)">
          <img src="drilldemo/rev2.jpg" alt="Customer image" onclick="openReviewImage(this)">
          <img src="drilldemo/rev3.jpg" alt="Customer image" onclick="openReviewImage(this)">
          </div>

        </div>



            <div class="review">
              <strong>Sajini Fernando</strong> <span style="color:#ffcc00;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
              <div>This is a time saver!!! totally worth it</div>

              <div class="review-images">
            <img src="drilldemo/rev4.jpg" alt="Customer image" onclick="openReviewImage(this)">
          <img src="drilldemo/rev5.jpg" alt="Customer image" onclick="openReviewImage(this)">
          
          </div>

            </div>


            <div class="review">
              <strong>Ruwan Jayasuriya</strong> <span style="color:#ffcc00;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
              <div>delivered in time, seller was responsive. </div>
            </div>

            <div class="review">
              <strong>nadeesha nadeesha</strong> <span style="color:#ffcc00;">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span>
              <div>Thanks </div>
            </div>

          </div>
          <style>
            
          </style>

        </section>
        

    </div>
    
  </div>


  <footer class="footer" style="margin-top:40px;">
    <div class="footer-inside">
      <div class="footr2">
        <h3>Hardware Deals.lk</h3>
        <p>Your trusted source for hardware tools and rentals in Sri Lanka.</p>
        <p>&copy; 2024 HardwareDeals.lk</p>
      </div>
      <div class="footr2">
        <h3>Contact Us</h3>
        <p>Email: <a href="mailto:info@hardwaredeals.lk">info@hardwaredeals.lk</a></p>
        <p>Phone: <a href="tel:+94111234567">011 1 1234567</a></p>
        <p><a href="about.html">About Us</a></p>
        <p><a href="terms.html">Terms & Conditions</a></p>
        <p><a href="trackorder.html">Track My Order</a></p>
      </div>
    </div>
  </footer>


  <script>
  function changeImage(img) {
    document.getElementById('mainProductImage').src = img.src;
  }
  

  const images = [
    "drilldemo/drill1.jpg",
    "drilldemo/2.jpg",
    "drilldemo/3.jpg"
    
  ];

  let currentSlide = 0;

  function showSlide(index) {
    const mainImage = document.getElementById("mainProductImage");
    const thumbs = document.querySelectorAll(".thumbnail-gallery img");

    if (index >= images.length) currentSlide = 0;
    else if (index < 0) currentSlide = images.length - 1;
    else currentSlide = index;

   

    mainImage.classList.add("fade-out");
    setTimeout(() => {
      mainImage.src = images[currentSlide];
      mainImage.classList.remove("fade-out");
    }, 200);

    thumbs.forEach((img, i) => img.classList.toggle("active-thumb", i === currentSlide));
  }

  function changeSlide(direction) {
    showSlide(currentSlide + direction);
  }

  function setSlide(index) {
    showSlide(index);
  }

  function openReviewImage(img) {
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    modal.style.display = "flex";
    modalImg.src = img.src;
  }

  function closeReviewImage() {
    document.getElementById("imageModal").style.display = "none";
  }
</script>


<div id="imageModal" class="image-modal" onclick="closeReviewImage()">
  <span class="close-btn">&times;</span>
  <img class="modal-content" id="modalImg">
</div>

</body>
</html>
